<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- 等倍表示を強制（viewport：びゅーぽーと） -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
  <!-- このページ内で遷移を完結（_self：せるふ） -->
  <base target="_self">
  <title>nursery sera - ヘッダー検証</title>

  <!-- フォント -->
  <link href="https://fonts.googleapis.com/css2?family=Bayon&family=Tangerine:wght@700&family=Italianno&family=Noto+Serif+JP&display=swap" rel="stylesheet">

  <script>
    // go（ページ遷移）…親を壊さない：window.location（うぃんどう・ろけーしょん）
    const BASE = window.location.origin; // https://www.nurserysera.com
    function go(path){
      window.location.href = new URL(path, BASE).toString();
    }
  </script>

  <style>
    /* ===== ベース ===== */
    html,body{
      margin:0; padding:0;
      -webkit-text-size-adjust:100%; text-size-adjust:100%;
      font-family: Arial, sans-serif;
      background:#fff0f5; color:#333;
    }

    /* スマホ幅の“額縁”（どあっぷ防止） */
    .phone-viewport{
      width:100%;
      max-width:480px;                  /* ← ここが全体の上限幅 */
      margin:0 auto;
      font-size: clamp(14px, 3.6vw, 16px); /* 最小14px〜最大16pxで自動調整 */
    }

    /* ===== ヘッダー（最小構成） ===== */
    .header-bar{
      position:sticky; top:0; z-index:1000;
      background:transparent;
      display:flex; align-items:center; justify-content:space-between;
      padding:12px; transition:top .5s ease;
    }
    .menu-icon{
      display:flex; flex-direction:column; justify-content:space-between;
      width: clamp(28px, 8vw, 40px);
      height: clamp(22px, 6vw, 32px);
      cursor:pointer; background:none; border:none; padding:0; margin:0;
      transform:translateX(4px);
    }
    .menu-icon span{ display:block; height:2px; width:100%; background:#333; border-radius:2px; }

    .main-title{
      font-family:'Bayon', cursive;
      font-size: clamp(32px, 12vw, 56px); /* 120px固定 → 自動調整へ */
      margin:0; white-space:nowrap; transform:translateX(6px);
      cursor:pointer; line-height:1.1;
    }

    .cart-button{
      background-image:url('https://gist.githubusercontent.com/nursery-sera/3bfad5863718f7147d193844bdaca462/raw/d7f9244ea2cbbaf4c13a67c30831022e37076b17/plantcart-icon.svg');
      background-size:contain; background-repeat:no-repeat;
      width: clamp(36px, 10vw, 56px);
      height: clamp(36px, 10vw, 56px);
      border:none; background-color:transparent; cursor:pointer;
    }

    /* 検証用の簡易本文（後で商品リストに置き換える） */
    .demo{
      padding: 24px 12px 50vh;
      font-size: clamp(14px, 3.8vw, 16px);
    }
    footer{
      padding:16px; text-align:center; font-size: clamp(12px, 3.4vw, 14px);
      color:#555;
    }
  </style>
</head>
<body>
  <div class="phone-viewport">
    <div class="header-bar" id="titleBar">
      <button class="menu-icon" onclick="alert('メニューは後で戻します')">
        <span></span><span></span><span></span>
      </button>
      <div class="main-title" onclick="go('/index')">nursery sera</div>
      <button class="cart-button" onclick="go('/cart')"></button>
    </div>

    <div class="demo">
      <p>ヘッダーだけにした検証ページです。</p>
      <p>iPhone で「タイトルやアイコンがデカすぎない」か確認してください。</p>
      <p>OKなら、この枠に商品リストを順番に戻します。</p>
    </div>

    <footer>© NURSERY SERA</footer>
  </div>

  <script>
    // スクロールでタイトルバーが隠れすぎないかの軽い挙動
    let lastScrollY = window.scrollY;
    const titleBar = document.getElementById("titleBar");
    const threshold = 10;
    window.addEventListener("scroll", () => {
      const current = window.scrollY;
      const diff = current - lastScrollY;
      if (Math.abs(diff) < threshold) return;
      titleBar.style.top = (diff < 0) ? "0px" : "-60px";
      lastScrollY = current;
    });
  </script>
</body>
</html>